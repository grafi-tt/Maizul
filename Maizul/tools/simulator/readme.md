# C Simulator

## 制限
ブロックRAMへの書き込みにまだ対応してなかった気がする．

## ビルド方法
現在1ファイルに雑に書いてしまっているし，Makefileもない．また，コンパイル時，あるいは実行時に指定できるようにするべきフラグがソースコードに書き込まれてしまっている．

    gcc -O3 -Wall -std=c99 -lm csim.c -o csim

でビルドは可能．適当にファイルを分けて見やすくしたうえで，Makefileを作りたい．むしろ誰かやってほしい．

なお，非標準の2進数リテラルを使っているので，GCC 4.3以上くらいや新しめのLLVMじゃないとコンパイルできない．

## サンプル
samplesディレクトリに，機械語入力を示したテキストと，テキストを実際のバイナリに変換するRubyスクリプトがある．

    ruby binary.rb < hoge.txt > hoge

で，hogeというファイルにシミュレータの引数として渡すことのできるバイナリが出力される．

## 実行方法
    csim hoge

ステップ実行フラグを有効にしてコンパイルした場合は，命令一つ一つがステップ実行される．（この挙動はあまりに適当で，現実的には使いものにならない．まともなブレークポイントの実装は，シミュレータ班が作るものでやってほしい）

    r<0-31>
    mem<自然数>

という形式の入力をしてエンターすると，そこに現在保存されている値が表示される．何も入力せずにエンターすると，次の命令を実行する．
